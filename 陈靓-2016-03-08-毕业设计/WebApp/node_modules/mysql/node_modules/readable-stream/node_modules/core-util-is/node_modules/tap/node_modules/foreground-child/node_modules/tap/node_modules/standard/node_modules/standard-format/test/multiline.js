var test = require('tape')
var fmt = require('../').transform

var cr = new RegExp(/\n/g)
var crlf = '\r\n'

var collapse = [
  {
    program: [
      'var x = 1',
      '',
      '',
      'var z = 2',
      ''
    ].join('\n'),

    expected: [
      'var x = 1',
      '',
      'var z = 2',
      ''
    ].join('\n'),

    msg: 'two empty lines should collapse to one'
  },
  {
    program: [
      'var x = 1',
      '', '', '', '', '',
      '', '', '', '', '',
      'var z = 2', ''
    ].join('\n'),

    expected: [
      'var x = 1',
      '',
      'var z = 2', ''
    ].join('\n'),

    msg: 'ten empty lines should collapse to one'
  },
  {
    program: [
      'var foo = function () {',
      '',
      '  bar()',
      '}',
      ''
    ].join('\n'),

    expected: [
      'var foo = function () {',
      '  bar()',
      '}',
      ''
    ].join('\n'),

    msg: 'Remove padding newlines after curly braces'
  },
  {
    program: [
      'var x = 123; /* Useful comment ',
      'that spans two lines */',